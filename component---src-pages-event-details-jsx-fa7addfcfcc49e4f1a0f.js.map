{"version":3,"sources":["webpack:///./node_modules/window-or-global/lib/index.js","webpack:///./src/utils/sessionStorage.js","webpack:///./src/pages/event-details.jsx","webpack:///(webpack)/buildin/global.js"],"names":["module","exports","self","global","this","getItem","key","value","globalContext","sessionStorage","setItem","EventDetails","westUnlockedSession","eastUnlockedSession","useState","currentPassword","setCurrentPassword","westUnlocked","setWestUnlocked","eastUnlocked","setEastUnlocked","passwordWrong","setPasswordWrong","onChange","e","target","onClick","console","log","g","Function","window"],"mappings":"8FAAA,YAEAA,EAAOC,QAA0B,iBAATC,MAAqBA,KAAKA,OAASA,MAAQA,MAA0B,iBAAXC,GAAuBA,EAAOA,SAAWA,GAAUA,GAAUC,O,2HCAzIC,EAAU,SAAAC,GACd,IAAMC,EACJC,IAAcC,gBAAkBD,IAAcC,eAAeJ,QAAQC,GAEvE,YAAqB,IAAVC,GAAmC,UAAVA,GAA+B,OAAVA,IAI3C,SAAVA,GAIGA,IAGHG,EAAU,SAACJ,EAAKC,GACpBC,IAAcC,gBACZD,IAAcC,eAAeC,QAAQJ,EAAKC,IC2C/BI,UAlDM,WACnB,IAAMC,EAAsBP,EAJL,iBAKjBQ,EAAsBR,EAJL,iBAEE,EAIqBS,mBAAS,IAAhDC,EAJkB,KAIDC,EAJC,OAKeF,mBAASF,GAA1CK,EALkB,KAKJC,EALI,OAMeJ,mBAASD,GAA1CM,EANkB,KAMJC,EANI,OAOiBN,oBAAS,GAA5CO,EAPkB,KAOHC,EAPG,KAkCzB,OACE,oCACE,8CACEL,IAAiBE,GACjB,6BACE,2BAAOI,SAAU,SAAAC,GAAC,OAAIR,EAAmBQ,EAAEC,OAAOlB,UAClD,4BAAQmB,QA/BM,WACpB,OAAQX,GACN,IAjBgB,OAkBdY,QAAQC,IAAI,uBACZV,GAAgB,GAChBE,GAAgB,GAChBE,GAAiB,GACjBZ,EAnBiB,iBAmBS,GAC1B,MACF,IAvBgB,OAwBdiB,QAAQC,IAAI,uBACZV,GAAgB,GAChBE,GAAgB,GAChBE,GAAiB,GACjBZ,EAzBiB,iBAyBS,GAC1B,MACF,QACEQ,GAAgB,GAChBE,GAAgB,GAChBE,GAAiB,GACjBZ,EAhCiB,iBAgCS,GAC1BA,EAhCiB,iBAgCS,MAUxB,UACCW,GAAiB,qEAGrBJ,GAAgB,2CAChBE,GAAgB,8C,mBCzDvB,IAAIU,EAEJA,EAAI,WACF,OAAOzB,KADL,GAIJ,IAEEyB,EAAIA,GAAK,IAAIC,SAAS,cAAb,GACT,MAAON,GAEe,iBAAXO,SAAqBF,EAAIE,QAMtC/B,EAAOC,QAAU4B","file":"component---src-pages-event-details-jsx-fa7addfcfcc49e4f1a0f.js","sourcesContent":["'use strict';\n\nmodule.exports = typeof self === 'object' && self.self === self && self || typeof global === 'object' && global.global === global && global || this;","import globalContext from \"window-or-global\";\n\nconst getItem = key => {\n  const value =\n    globalContext.sessionStorage && globalContext.sessionStorage.getItem(key);\n\n  if (typeof value === \"undefined\" || value === \"false\" || value === null) {\n    return false;\n  }\n\n  if (value === \"true\") {\n    return true;\n  }\n\n  return value;\n};\n\nconst setItem = (key, value) => {\n  globalContext.sessionStorage &&\n    globalContext.sessionStorage.setItem(key, value);\n};\n\nexport { getItem, setItem };\n","import React, { useState } from \"react\";\nimport { Link } from \"gatsby\";\nimport globalContext from \"window-or-global\";\n\nimport { getItem, setItem } from \"../utils/sessionStorage\";\n\nconst WEST_PASSWORD = \"west\";\nconst EAST_PASSWORD = \"east\";\n\nconst SESSION_KEY_WEST = \"west_unlocked\";\nconst SESSION_KEY_EAST = \"east_unlocked\";\n\nconst EventDetails = () => {\n  const westUnlockedSession = getItem(SESSION_KEY_WEST);\n  const eastUnlockedSession = getItem(SESSION_KEY_EAST);\n\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [westUnlocked, setWestUnlocked] = useState(westUnlockedSession);\n  const [eastUnlocked, setEastUnlocked] = useState(eastUnlockedSession);\n  const [passwordWrong, setPasswordWrong] = useState(false);\n\n  const checkPassword = () => {\n    switch (currentPassword) {\n      case WEST_PASSWORD:\n        console.log(\"running west unlock\");\n        setWestUnlocked(true);\n        setEastUnlocked(false);\n        setPasswordWrong(false);\n        setItem(SESSION_KEY_WEST, true);\n        break;\n      case EAST_PASSWORD:\n        console.log(\"running east unlock\");\n        setWestUnlocked(false);\n        setEastUnlocked(true);\n        setPasswordWrong(false);\n        setItem(SESSION_KEY_EAST, true);\n        break;\n      default:\n        setWestUnlocked(false);\n        setEastUnlocked(false);\n        setPasswordWrong(true);\n        setItem(SESSION_KEY_WEST, false);\n        setItem(SESSION_KEY_EAST, false);\n    }\n  };\n\n  return (\n    <>\n      <h1>Event Details</h1>\n      {!westUnlocked && !eastUnlocked && (\n        <div>\n          <input onChange={e => setCurrentPassword(e.target.value)}></input>\n          <button onClick={checkPassword}>Unlock</button>\n          {passwordWrong && <p>The password you entered is incorrect</p>}\n        </div>\n      )}\n      {westUnlocked && <p>West Details</p>}\n      {eastUnlocked && <p>East Details</p>}\n    </>\n  );\n};\n\nexport default EventDetails;\n","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;"],"sourceRoot":""}